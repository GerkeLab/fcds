<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Count FCDS Cases — count_fcds • fcds</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/lumen/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Count FCDS Cases — count_fcds" />
<meta property="og:description" content="Helper function to count cancer cases in the FCDS data by year and age group,
in addition to any groups already present in the data. For convenience, you
may additionally filter to include particular values of sex, race, year,
county name and hispanic ethnicity. See fcds_const() for more information
about possible values for these variables. By default, count_fcds() ensures
that age_group, year_group, and year are included in the grouping
variables if they are present in the data. If they are not, or if they are
not present in the FCDS data, then it would be better to use dplyr::count()
directly." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fcds</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fcds.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../news/index.html">
    <span class="fa fa fa fa-newspaper-o fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/gerkelab/fcds">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://gerkelab.com">
    <span class="fa fa-flask fa-lg"></span>
     
    GerkeLab
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Count FCDS Cases</h1>
    <small class="dont-index">Source: <a href='https://github.com/GerkeLab/fcds/blob/master/R/fcds.R'><code>R/fcds.R</code></a></small>
    <div class="hidden name"><code>count_fcds.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Helper function to count cancer cases in the FCDS data by year and age group,
in addition to any groups already present in the data. For convenience, you
may additionally filter to include particular values of sex, race, year,
county name and hispanic ethnicity. See <code><a href='fcds_const.html'>fcds_const()</a></code> for more information
about possible values for these variables. By default, <code>count_fcds()</code> ensures
that <code>age_group</code>, <code>year_group</code>, and <code>year</code> are included in the grouping
variables if they are present in the data. If they are not, or if they are
not present in the FCDS data, then it would be better to use <code><a href='https://dplyr.tidyverse.org/reference/tally.html'>dplyr::count()</a></code>
directly.</p>
    </div>

    <pre class="usage"><span class='fu'>count_fcds</span>(<span class='no'>data</span>, <span class='no'>...</span>, <span class='kw'>sex</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>race</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>origin</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>county_name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>default_groups</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"year_group"</span>, <span class='st'>"year"</span>,
  <span class='st'>"age_group"</span>), <span class='kw'>discard_unseen_levels</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>moffitt_catchment</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Unquoted column names to be added to the grouping of the output
and subsequent counting.</p></td>
    </tr>
    <tr>
      <th>sex</th>
      <td><p>Character vector of values of <code>sex</code> to be included in count, or
<code>TRUE</code> to include all values of <code>sex</code> present in input data</p></td>
    </tr>
    <tr>
      <th>race</th>
      <td><p>Character vector of values of <code>race</code> to be included in count, or
<code>TRUE</code> to include all values of <code>race</code> present in input data</p></td>
    </tr>
    <tr>
      <th>origin</th>
      <td><p>Character vector of values of <code>origin</code> to be included in count,
or <code>TRUE</code> to include all values of <code>origin</code> present in input data</p></td>
    </tr>
    <tr>
      <th>county_name</th>
      <td><p>Character vector of values of <code>county_name</code> to be included
in count, or <code>TRUE</code> to include all values of <code>county_name</code> present in the
input data, or <code>"moffitt"</code> to limit to the counties in the
catchment area of the <a href='https://moffitt.org'>Moffitt Cancer Center</a>.</p></td>
    </tr>
    <tr>
      <th>default_groups</th>
      <td><p>Variables that should be included in the grouping,
prior to counting cancer cases. Set to <code>NULL</code> to use only the groups
already present in the input data.</p></td>
    </tr>
    <tr>
      <th>discard_unseen_levels</th>
      <td><p>If <code>TRUE</code>, drops factor levels that don't appear
in the results. If <code>FALSE</code>, then no changes are made to the factor levels.
If a character string of column names, then only unobserved levels in those
columns are dropped.</p></td>
    </tr>
    <tr>
      <th>moffitt_catchment</th>
      <td><p><strong>Deprecated.</strong> Please use <code>county_name = "moffitt"</code> instead to limit counties to those in the catchment
area of the <a href='https://moffitt.org'>Moffitt Cancer Center</a>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A grouped data frame with counts. The output groups includes the
union of the groups of the original input <code>data</code>, the groups specified by
the columns indicated in <code>...</code>, and the <code>default_groups</code> added by
<code>count_fcds()</code> (modifyable by the <code>default_groups</code> argument).</p>
<p>All factor levels will be modified to include only those levels that appear
in the final output across all groups.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>fcds_example</span> <span class='kw'>%&gt;%</span>
  <span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/filter.html'>filter</a></span>(<span class='no'>county_name</span> <span class='kw'>==</span> <span class='st'>"Pinellas"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>count_fcds</span>(<span class='no'>cancer_site_group</span>, <span class='kw'>sex</span> <span class='kw'>=</span> <span class='st'>"Male"</span>, <span class='kw'>county_name</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>()</div><div class='output co'>#&gt; # A tibble: 6 x 7
#&gt; # Groups:   cancer_site_group, county_name, sex, year_group, year, age_group
#&gt; #   [6]
#&gt;   cancer_site_group       county_name sex   year_group year  age_group     n
#&gt;   &lt;fct&gt;                   &lt;fct&gt;       &lt;fct&gt; &lt;fct&gt;      &lt;chr&gt; &lt;fct&gt;     &lt;int&gt;
#&gt; 1 Oral Cavity and Pharynx Pinellas    Male  1992-1996  1994  0 - 4         1
#&gt; 2 Oral Cavity and Pharynx Pinellas    Male  1992-1996  1994  55 - 59       1
#&gt; 3 Oral Cavity and Pharynx Pinellas    Male  1997-2001  1999  70 - 74       1
#&gt; 4 Oral Cavity and Pharynx Pinellas    Male  2002-2006  2004  15 - 19       1
#&gt; 5 Oral Cavity and Pharynx Pinellas    Male  2002-2006  2004  75 - 79       1
#&gt; 6 Oral Cavity and Pharynx Pinellas    Male  2007-2011  2009  70 - 74       2</div><div class='input'>
<span class='no'>fcds_example</span> <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='filter_age_groups.html'>filter_age_groups</a></span>(<span class='kw'>age_gt</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>age_lt</span> <span class='kw'>=</span> <span class='fl'>25</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'>count_fcds</span>(<span class='kw'>sex</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>county_name</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Pinellas"</span>, <span class='st'>"Hillsborough"</span>))</div><div class='output co'>#&gt; # A tibble: 10 x 6
#&gt; # Groups:   sex, county_name, year_group, year, age_group [10]
#&gt;    sex     county_name  year_group year  age_group     n
#&gt;    &lt;fct&gt;   &lt;fct&gt;        &lt;fct&gt;      &lt;chr&gt; &lt;fct&gt;     &lt;int&gt;
#&gt;  1 Male    Pinellas     1992-1996  1994  20 - 24       1
#&gt;  2 Male    Pinellas     2002-2006  2004  20 - 24       2
#&gt;  3 Male    Pinellas     2007-2011  2009  20 - 24       2
#&gt;  4 Female  Hillsborough 1992-1996  1994  20 - 24       3
#&gt;  5 Female  Hillsborough 2007-2011  2009  20 - 24       1
#&gt;  6 Female  Hillsborough 2012-2016  2014  20 - 24       1
#&gt;  7 Female  Pinellas     1987-1991  1989  20 - 24       1
#&gt;  8 Female  Pinellas     2007-2011  2009  20 - 24       2
#&gt;  9 Unknown Hillsborough 2002-2006  2004  20 - 24       1
#&gt; 10 Unknown Pinellas     1997-2001  1999  20 - 24       1</div><div class='input'>
<span class='no'>fcds_example</span> <span class='kw'>%&gt;%</span>
  <span class='fu'>count_fcds</span>(<span class='kw'>county_name</span> <span class='kw'>=</span> <span class='st'>"moffitt"</span>) <span class='kw'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span>()</div><div class='output co'>#&gt; # A tibble: 6 x 5
#&gt; # Groups:   county_name, year_group, year, age_group [6]
#&gt;   county_name year_group year  age_group     n
#&gt;   &lt;fct&gt;       &lt;fct&gt;      &lt;chr&gt; &lt;fct&gt;     &lt;int&gt;
#&gt; 1 Charlotte   1982-1986  1984  20 - 24       1
#&gt; 2 Charlotte   1982-1986  1984  35 - 39       1
#&gt; 3 Charlotte   1982-1986  1984  40 - 44       1
#&gt; 4 Charlotte   1982-1986  1984  45 - 49       1
#&gt; 5 Charlotte   1982-1986  1984  50 - 54       2
#&gt; 6 Charlotte   1982-1986  1984  55 - 59       5</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.garrickadenbuie.com'>Garrick Aden-Buie</a>, Jordan Creed, <a href='https://travisgerke.com'>Travis Gerke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


